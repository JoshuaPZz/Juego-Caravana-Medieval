<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/ciudad-view.css" />
    <script src="/js/ciudad-view.js" defer></script>
    <title>Vista de Ciudad</title>
  </head>

  <body>
    <div class="info-card">
      <h1 th:text="${ciudad.nombre}"></h1>

      <!-- Impuesto -->
      <div class="impuesto-badge">
        Impuesto: <span th:text="${ciudad.impuesto}"></span>%
      </div>
    </div>

    <!-- Productos -->
    <div class="dropdown-section">
      <div class="dropdown-header">
        <span class="section-title">📦 Productos disponibles</span>
        <span>▼</span>
      </div>
      <div class="dropdown-content">
        <ul class="item-list">
          <li
            th:each="producto : ${ciudad.productoNombres}"
            th:text="${producto}"
          ></li>
        </ul>
      </div>
    </div>

    <!-- Servicios -->
    <div class="dropdown-section">
      <div class="dropdown-header">
        <span class="section-title">🛠️ Servicios disponibles</span>
        <span>▼</span>
      </div>
      <div class="dropdown-content">
        <ul class="item-list">
          <li
            th:each="servicio : ${ciudad.servicioNombres}"
            th:text="${servicio}"
          ></li>
        </ul>
      </div>
    </div>

    <!-- Compras -->
    <div class="dropdown-section">
      <div class="dropdown-header">
        <span class="section-title">🤑 Servicios comprados</span>
        <span>▼</span>
      </div>
      <div class="dropdown-content">
        <ul class="item-list">
          <li
            th:each="i : ${#numbers.sequence(0, ciudad.compraServicioNombres.size() - 1)}"
            th:text="|${ciudad.compraServicioNombres[i]} comprado por ${ciudad.compraCaravanaNombres[i]}|"
          ></li>
        </ul>
      </div>
    </div>

    <!-- Rutas Origen -->
    <div class="dropdown-section">
      <div class="dropdown-header">
        <span class="section-title">📍 Rutas como Origen</span>
        <span>▼</span>
      </div>
      <div class="dropdown-content">
        <ul class="item-list">
          <li
            th:each="ruta : ${ciudad.rutaOrigenNombres}"
            th:text="${ruta}"
          ></li>
        </ul>
      </div>
    </div>

    <!-- Rutas Destino -->
    <div class="dropdown-section">
      <div class="dropdown-header">
        <span class="section-title">🏁 Rutas como Destino</span>
        <span>▼</span>
      </div>
      <div class="dropdown-content">
        <ul class="item-list">
          <li
            th:each="ruta : ${ciudad.rutaDestinoNombres}"
            th:text="${ruta}"
          ></li>
        </ul>
      </div>
    </div>

    <!-- Botón de volver -->
    <div class="info-card" style="text-align: center">
      <a class="back-button" th:href="@{/ciudades/list}">
        ← Volver a la lista
      </a>
    </div>
  </body>
</html>
